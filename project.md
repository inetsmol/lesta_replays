# –ê–Ω–∞–ª–∏–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã: lesta_replays

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç —Ç–∏–ø–∏—á–Ω—É—é –¥–ª—è Django —Å—Ç—Ä—É–∫—Ç—É—Ä—É, —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã.

```
/
‚îú‚îÄ‚îÄ‚îÄlesta_replays/      # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Django (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏, URL-—ã)
‚îú‚îÄ‚îÄ‚îÄreplays/            # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–ø–ª–µ—è–º–∏ (–º–æ–¥–µ–ª–∏, –≤—å—é, —à–∞–±–ª–æ–Ω—ã)
‚îú‚îÄ‚îÄ‚îÄtemplates/          # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã (–±–∞–∑–æ–≤—ã–π, —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—à–∏–±–æ–∫)
‚îú‚îÄ‚îÄ‚îÄstatic/             # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
‚îú‚îÄ‚îÄ‚îÄwotreplay/          # –ú–æ–¥—É–ª—å –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ñ–∞–π–ª–æ–≤ —Ä–µ–ø–ª–µ–µ–≤
‚îú‚îÄ‚îÄ‚îÄmanage.py           # –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Django –ø—Ä–æ–µ–∫—Ç–æ–º
‚îú‚îÄ‚îÄ‚îÄrequirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ‚îÄDockerfile          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Å–±–æ—Ä–∫–∏ Docker-–æ–±—Ä–∞–∑–∞
‚îî‚îÄ‚îÄ‚îÄdocker-compose.yml  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Docker
```

-   **lesta_replays/**: –Ø–¥—Ä–æ –ø—Ä–æ–µ–∫—Ç–∞, —Å–æ–¥–µ—Ä–∂–∏—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (`settings.py`) –∏ –æ—Å–Ω–æ–≤–Ω—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é (`urls.py`).
-   **replays/**: –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Ä–µ–∞–ª–∏–∑—É—é—â–µ–µ –≤—Å—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, —Å–≤—è–∑–∞–Ω–Ω—É—é —Å —Ä–µ–ø–ª–µ—è–º–∏: –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (`models.py`), –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤ (`views.py`), —Ñ–æ—Ä–º—ã (`forms.py`) –∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —à–∞–±–ª–æ–Ω—ã (`templates/replays/`).
-   **templates/**: –°–æ–¥–µ—Ä–∂–∏—Ç –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω `base.html` –∏ –¥—Ä—É–≥–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–æ –≤—Å–µ–º –ø—Ä–æ–µ–∫—Ç–µ.
-   **static/**: –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è CSS, JavaScript –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–æ –ø–æ —Ç–∏–ø–∞–º —Ä–µ—Å—É—Ä—Å–æ–≤.
-   **wotreplay/**: –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Python-–ø–∞–∫–µ—Ç –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ `.mtreplay`. –≠—Ç–æ —Ö–æ—Ä–æ—à–∏–π –ø—Ä–∏–º–µ—Ä –≤—ã–Ω–µ—Å–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ–π, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å –≤–µ–±–æ–º –ª–æ–≥–∏–∫–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å.

–ü—Ä–∏–Ω—Ü–∏–ø –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞ ‚Äî **layer-based** –≤ —Ä–∞–º–∫–∞—Ö Django-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (MVT).

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –í–µ—Ä—Å–∏—è |
| :--- | :--- | :--- |
| **Backend** | | |
| Python | –Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è | ~3.12 |
| Django | –í–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ | ~5.2.6 |
| Gunicorn | WSGI HTTP-—Å–µ—Ä–≤–µ—Ä | N/A |
| Psycopg2 | –î—Ä–∞–π–≤–µ—Ä –¥–ª—è PostgreSQL | N/A |
| Sentry SDK | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫ | N/A |
| Django Allauth | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–≤ —Ç.—á. —Å–æ—Ü—Å–µ—Ç–∏) | ~65.3.0 |
| Django Comments Xtd | –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ | ~2.10.9 |
| **Frontend** | | |
| HTML/CSS | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è | |
| JavaScript | –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ | |
| jQuery & jQuery UI | –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è DOM-–º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π | 3.7.1 & 1.13.3 |
| Tailwind CSS | CSS-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ (–¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏) | CDN |
| **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞** | | |
| Docker | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è | |
| GitHub Actions | CI/CD | |
| PostgreSQL / SQLite | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | |

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –±–∞–∑–µ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã **Model-View-Template (MVT)**, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ–π Django.

-   **–ú–æ–¥–µ–ª–∏ (Models):** –í `replays/models.py` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏: `Replay`, `Tank`, `Player`, `Achievement`, `Map`. –ú–æ–¥–µ–ª—å `Replay` —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –∏ —Å–≤—è–∑–∞–Ω–∞ —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ —á–µ—Ä–µ–∑ `ForeignKey` –∏ `ManyToManyField`.

-   **–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (Views):** –í `replays/views.py` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–ª–∞—Å—Å–æ–≤—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (Class-Based Views), —Ç–∞–∫–∏–µ –∫–∞–∫ `ListView` –∏ `DetailView`, –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–≤ –∏ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ–ø–ª–µ—è—Ö. `ReplayBatchUploadView` ‚Äî —Ö–æ—Ä–æ—à–∏–π –ø—Ä–∏–º–µ—Ä –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ View –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–ª–æ–∂–Ω—ã—Ö POST-–∑–∞–ø—Ä–æ—Å–æ–≤ —Å —Ñ–∞–π–ª–∞–º–∏.

-   **–®–∞–±–ª–æ–Ω—ã (Templates):** –®–∞–±–ª–æ–Ω—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º Django Template Language. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (`{% extends "base.html" %}`) –∏ –≤–∫–ª—é—á–µ–Ω–∏–µ (`{% include %}`) –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.

-   **–ü–∞—Ä—Å–∏–Ω–≥ —Ä–µ–ø–ª–µ–µ–≤:** –õ–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç `wotreplay`. –ö–ª–∞—Å—Å `ReplayData` –≤ `wotreplay/mtreplay.py` —è–≤–ª—è–µ—Ç—Å—è —Ñ–∞—Å–∞–¥–æ–º –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —á–∞—Å—Ç–µ–π –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞ —Ä–µ–ø–ª–µ—è. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ—Ä–∂–∞—Ç—å –ª–æ–≥–∏–∫—É –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ—Ç Django.

-   **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `django-allauth`, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –≤—Ö–æ–¥–∞, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ (Google, Yandex).

## üé® UI/UX –∏ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è

-   **–ü–æ–¥—Ö–æ–¥ –∫ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏:** –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω—ã –≤ —Ñ–∞–π–ª–µ `static/css/site.css`. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è, –Ω–∞–ø–æ–º–∏–Ω–∞—é—â–∞—è –ë–≠–ú, —Å –∫–ª–∞—Å—Å–∞–º–∏ –≤—Ä–æ–¥–µ `site-header`, `file-list`, `modal-content`. –î–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –≤–µ—Ä–æ—è—Ç–Ω–æ, –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Tailwind CSS** —á–µ—Ä–µ–∑ CDN.
-   **UI-kit:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–∞–∫ —Ç–∞–∫–æ–≤–æ–π, –Ω–æ –µ—Å—Ç—å –Ω–∞–±–æ—Ä –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å—Ç–∏–ª–µ–π –¥–ª—è –∫–Ω–æ–ø–æ–∫ (`.btn`), —Ñ–æ—Ä–º (`.form`, `.field`), –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω (`.modal`) –∏ —Å–æ–æ–±—â–µ–Ω–∏–π (`.message`).
-   **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å:** –ë–∞–∑–æ–≤–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞—Å–∫–ª–∞–¥–∫–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.
-   **JavaScript:** –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **jQuery**. –í `static/js/upload-modal.js` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤, –≤–∫–ª—é—á–∞—è drag-n-drop, –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏ –æ—Ç–ø—Ä–∞–≤–∫—É —Ñ–æ—Ä–º—ã —á–µ—Ä–µ–∑ AJAX.

## ‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

-   **–õ–∏–Ω—Ç–µ—Ä—ã:** –í –ø—Ä–æ–µ–∫—Ç–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –ª–∏–Ω—Ç–µ—Ä–æ–≤ (—Ç–∞–∫–∏—Ö –∫–∞–∫ `flake8`, `black` –∏–ª–∏ `ruff`), —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ —Å—Ç–∏–ª—è –∫–æ–¥–∞.
-   **–¢–µ—Å—Ç—ã:** –í –ø—Ä–æ–µ–∫—Ç–µ **–ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–µ—Å—Ç—ã**. –≠—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–º, —Ç–∞–∫ –∫–∞–∫ –Ω–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–π, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ –Ω–µ —Å–ª–æ–º–∞—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å. –û—Å–æ–±–µ–Ω–Ω–æ —ç—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –º–æ–¥—É–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ `wotreplay`.
-   **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –í –∫–æ–¥–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç docstrings –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –æ–±—ä—è—Å–Ω—è—é—â–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤ –∏ —Ñ—É–Ω–∫—Ü–∏–π. –≠—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π.
-   **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –í `replays/views.py` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞—Å—Ç–æ–º–Ω—ã–π `ReplayErrorHandler` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ä–µ–ø–ª–µ–µ–≤. –í `settings.py` –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å **Sentry** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—à–∏–±–æ–∫ –≤ production.

## üîß –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1.  **`ReplayBatchUploadView` (`replays/views.py`)**
    -   **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–∫–µ—Ç–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ —Ä–µ–ø–ª–µ–µ–≤.
    -   **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ POST-–∑–∞–ø—Ä–æ—Å—ã, —Ç–∞–∫ –∏ AJAX. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `ReplayProcessingService` –¥–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞. –ü—Ä–∏–º–µ–Ω—è–µ—Ç –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã `BatchUploadValidator` –∏ `ReplayFileValidator`.

2.  **`ReplayListView` (`replays/views.py`)**
    -   **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ä–µ–ø–ª–µ–µ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π.
    -   **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –º–Ω–æ–∂–µ—Å—Ç–≤—É –ø–æ–ª–µ–π, –≤–∫–ª—é—á–∞—è —Å–≤—è–∑–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏. `get_queryset` –∏ `get_context_data` –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω—ã –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ç–æ–π –ª–æ–≥–∏–∫–∏.

3.  **`Replay` (`replays/models.py`)**
    -   **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö, —Ö—Ä–∞–Ω—è—â–∞—è –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ–µ, –≤–∫–ª—é—á–∞—è JSON-payload —Å —Å—ã—Ä—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ —Ñ–∞–π–ª–∞.
    -   **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `JSONField` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ò–º–µ–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–≤—è–∑–µ–π —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥–µ–ª—è–º–∏ –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

4.  **`upload-modal.js` (`static/js/`)**
    -   **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ª–æ–≥–∏–∫–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∏.
    -   **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –ù–∞–ø–∏—Å–∞–Ω –Ω–∞ "–≤–∞–Ω–∏–ª—å–Ω–æ–º" JavaScript –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è jQuery. –†–µ–∞–ª–∏–∑—É–µ—Ç drag-n-drop, –≤—ã–±–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º —á–µ—Ä–µ–∑ `XMLHttpRequest`.

## üìã –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–ø–ª–µ–µ–≤ –∏–≥—Ä—ã "–ú–∏—Ä —Ç–∞–Ω–∫–æ–≤".

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**

-   **–ß–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** –ü—Ä–æ–µ–∫—Ç —Ö–æ—Ä–æ—à–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω, –ª–æ–≥–∏–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –º–µ–∂–¥—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ –∏ –º–æ–¥—É–ª—è–º–∏.
-   **–ò–∑–æ–ª—è—Ü–∏—è –ø–∞—Ä—Å–µ—Ä–∞:** –í—ã–Ω–µ—Å–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç `wotreplay` ‚Äî –æ—Ç–ª–∏—á–Ω–æ–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.
-   **–ü–∞–∫–µ—Ç–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —É–¥–æ–±–Ω–∞—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤.
-   **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `django-allauth`:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `django-allauth` –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π, –∏–∑–±–∞–≤–ª—è—é—â–µ–π –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–∏—Å–∞—Ç—å –º–Ω–æ–≥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –∫–æ–¥–∞.

**–û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:**

-   **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç–æ–≤:** –≠—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ —Å–µ—Ä—å–µ–∑–Ω—ã–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –ø–∞—Ä—Å–µ—Ä–∞ `wotreplay`) –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
-   **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–∏–Ω—Ç–µ—Ä–æ–≤ –∏ —Ñ–æ—Ä–º–∞—Ç–µ—Ä–æ–≤:** –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤—Ä–æ–¥–µ `black` –∏ `ruff` –ø–æ–º–æ–∂–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –∫–æ–¥–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç—å –æ—à–∏–±–∫–∏.
-   **–°–º–µ—à–µ–Ω–∏–µ frontend-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ jQuery –∏ –≤–∞–Ω–∏–ª—å–Ω–æ–≥–æ JS, –∞ —Ç–∞–∫–∂–µ Tailwind CSS –∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Å—Ç–∏–ª–µ–π, –º–æ–∂–µ—Ç —É—Å–ª–æ–∂–Ω–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É. –°—Ç–æ–∏—Ç –≤—ã–±—Ä–∞—Ç—å –µ–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥.
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç CDN:** –ó–∞–≥—Ä—É–∑–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫ (jQuery, Tailwind) —á–µ—Ä–µ–∑ CDN –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç –∑–∞–≤–∏—Å–∏–º—ã–º –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤. –õ—É—á—à–µ —É–ø—Ä–∞–≤–ª—è—Ç—å frontend-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ —á–µ—Ä–µ–∑ `npm` –∏–ª–∏ `yarn` –∏ –≤–∫–ª—é—á–∞—Ç—å –∏—Ö –≤ –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏.

**–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:** –ü—Ä–æ–µ–∫—Ç –º–æ–∂–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å –∫–∞–∫ **middle-friendly**. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–ª–æ–∂–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–∫–∞—Å—Ç–æ–º–Ω—ã–µ views, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤, —Å–ª–æ–∂–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è), –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã Django.
